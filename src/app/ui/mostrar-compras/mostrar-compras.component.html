<main class="contenedor">

	<article class="tarjeta">

		<header class="header">

			<div class="field">
				<select [(ngModel)]="anioSeleccionado" (change)="onAnioSeleccionado($event)"  class="form-control">
					<option value="" disabled selected>Seleccione un año de Compra</option>
					<option *ngFor="let anio of aniosDisponibles" [value]="anio">{{ anio }}</option>
				</select>
				<label>Año de Compra</label>
			</div>

			<div class="field" *ngIf="mesesDisponibles.length > 0 && anioSeleccionado">
				<select  [(ngModel)]="mesSeleccionado"
					(change)="onMesSeleccionado($event)"  class="form-control">
					<option value="" disabled>Seleccione un mes de Compra</option>
					<option *ngFor="let mes of mesesDisponibles" [value]="mes">{{ mes }}</option>
				</select>
				<label>Mes de Compra</label>
			</div>

			<div class="field" *ngIf="mesSeleccionado">
				<select *ngIf="diasDisponibles.length > 0" [(ngModel)]="diaSeleccionado"
					(change)="onDiaSeleccionado($event)"  class="form-control">
					<option value="" disabled>Seleccione un día de Compra</option>
					<option *ngFor="let dia of diasDisponibles" [value]="dia">{{ dia }}</option>
				</select>
				<label>Día de Compra</label>
			</div>
		</header>

		<body class="datos">

			<section class="tabla">

				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th scope="col">#</th>
							<th scope="col">Fecha de Compra</th>
							<th scope="col">Total Productos</th>
							<th scope="col">Total Compra</th>
							<th scope="col">Estado Compra</th>
							<th scope="col">Encargado Compra</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let compra of comprasObtenidas; let id = index" style="cursor: pointer;" (click)="enviarCompraSeleccionada(compra)" id="tr-{{id}}">
							<th id="compra-id-{{id}}" scope="row">{{id + 1}}</th>
							<td id="compra-fecha-{{id}}">{{ compra.orden_compra_fecha_ordenado }}</td>
							<td id="compra-productos-{{id}}">{{ compra.detalle_orden_compra_ID.detalleOC_Cantidad_Producto }} Producto(s)</td>
							<td id="compra-monto-{{id}}"> $ {{  compra.detalle_orden_compra_ID.detalleOC_MontoTotal }}</td>
							<td id="compra-estado-{{id}}">{{ compra.orden_compra_estado }}</td>
							<td id="compra-correo-{{id}}">{{ compra.detalle_orden_compra_ID.detalleOC_Cuenta_ID.cuenta_Correo }}</td>
						</tr>
						  
					</tbody>
				</table>
			</section>
		</body>
	</article>
</main>